// This script was auto-generated by Ann Enigma's script autogenerator
// available at http://www.3greeneggs.com/autoscript/
// Note: You will need to copy both this script and a sound into your object

list recent_avatars;

add_avatar(string name) {
	if(!seen(name)) {
		recent_avatars += name;
		if (llGetListLength(recent_avatars) > 25) {
			recent_avatars = llDeleteSubList(recent_avatars,0,0);
		}
	}
}
integer seen(string name) {
	if(llListFindList(recent_avatars,[name]) > -1) { return TRUE; }
	return FALSE;
}


default
{

	state_entry() {
		llSensorRepeat("", NULL_KEY, AGENT, 5, PI, 5);
	}
	sensor(integer total_number) {
		if(!seen(llDetectedName(0))) {
		llPlaySound(llGetInventoryName(INVENTORY_SOUND,0),1);

	add_avatar(llDetectedName(0));
	}
}

}

